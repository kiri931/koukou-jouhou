<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OSI参照モデルとTCP/IPモデル（図解・対応表）</title>
  <style>
    :root{
      --bg: #0b0c10; --card:#121319; --fg:#e8eef7; --muted:#a9b4c2; --acc:#7cc0ff; --ok:#6ee7b7;
      --table-border:#2a2f3a;
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f7f9fc; --card:#ffffff; --fg:#111827; --muted:#475569; --acc:#0ea5e9; --ok:#059669;
        --table-border:#e5e7eb;
      }
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN",
      "Yu Gothic", "Noto Sans JP", "Meiryo", sans-serif;
      color:var(--fg); background:linear-gradient(180deg, var(--bg), #161823 30%, var(--bg));
      line-height:1.65;
    }
    header{
      position:sticky; top:0; backdrop-filter:saturate(140%) blur(8px);
      background:color-mix(in oklab, var(--bg) 85%, transparent);
      border-bottom:1px solid var(--table-border); z-index:10;
    }
    .wrap{max-width:1000px; margin:0 auto; padding:16px;}
    h1{font-size:clamp(1.4rem, 2.4vw, 2rem); margin:.3rem 0 0.6rem}
    h2{margin:2rem 0 0.6rem; font-size:1.2rem; border-left:4px solid var(--acc); padding-left:.6rem}
    h3{margin:1.4rem 0 .4rem; font-size:1.05rem; color:var(--acc)}
    p.lead{color:var(--muted); margin:.2rem 0 0.8rem}
    .grid{display:grid; gap:16px}
    @media (min-width:900px){ .grid{grid-template-columns: 1.1fr 1fr} }
    .card{
      background:var(--card); border:1px solid var(--table-border);
      border-radius:14px; padding:16px; box-shadow:0 10px 24px rgba(0,0,0,.14);
    }
    .kpi{display:flex; gap:12px; flex-wrap:wrap}
    .pill{border:1px solid var(--table-border); padding:.25rem .6rem; border-radius:999px; color:var(--muted)}
    table{width:100%; border-collapse:collapse; overflow:auto; display:block}
    th,td{border-bottom:1px solid var(--table-border); padding:.55rem .6rem; vertical-align:top}
    th{text-align:left; color:var(--muted); font-weight:600; background:color-mix(in oklab, var(--card), black 4%)}
    code, pre{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Roboto Mono", monospace; font-size:.92em}
    pre{
      margin:0; padding:12px 14px; background:color-mix(in oklab, var(--card), black 6%);
      border:1px dashed var(--table-border); border-radius:12px; overflow:auto
    }
    .note{font-size:.92em; color:var(--muted)}
    .ok{color:var(--ok)}
    .footer{color:var(--muted); font-size:.9em; margin-top:24px}
    .toc a{color:inherit; text-decoration:none}
    .toc ol{margin:.3rem 0 .6rem 1.1rem}
    .toc li{margin:.15rem 0}
    .print-only{display:none}
    @media print{
      header{position:static; backdrop-filter:none; background:#fff; border:0}
      body{background:#fff}
      .card{box-shadow:none}
      .print-only{display:block}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>OSI参照モデル と TCP/IPモデル — 図解・対応表・要点まとめ</h1>
      <p class="lead">通信の学習でつまずきやすいポイントを、図と対応表で一気に整理。</p>
    </div>
  </header>

  <main class="wrap">
    <section class="card toc">
      <h2>目次</h2>
      <ol>
        <li><a href="#overview">なぜ使われる？（目的）</a></li>
        <li><a href="#diagram">図解：OSIとTCP/IPの層構造</a></li>
        <li><a href="#mapping">対応関係（どの層がどれに相当？）</a></li>
        <li><a href="#protocols">各層の代表的プロトコル（対応表）</a></li>
        <li><a href="#encap">通信の流れ（カプセル化のイメージ）</a></li>
        <li><a href="#summary">まとめ（試験・実務の要点）</a></li>
      </ol>
    </section>

    <section id="overview" class="card">
      <h2>1. なぜ使われる？（目的）</h2>
      <div class="kpi">
        <span class="pill">理解の分割（層で整理）</span>
        <span class="pill">相互運用（異メーカー間の互換性）</span>
        <span class="pill">トラブル切り分け（層で原因特定）</span>
      </div>
      <ul>
        <li><strong>通信の仕組みを分けて考える</strong>：物理（ケーブル）とアプリ（HTTP等）を切り離して理解。</li>
        <li><strong>標準化</strong>：同じルールで作れば、機器・OSが違ってもつながる。</li>
        <li><strong>障害対応</strong>：どの層の故障か（配線？IP？TCP？）を素早く特定。</li>
      </ul>
      <p class="note">OSIは<strong>理論モデル</strong>、TCP/IPは<strong>実運用の事実上標準</strong>という立ち位置です。</p>
    </section>

    <section id="diagram" class="grid">
      <div class="card">
        <h2>2. 図解：層構造（OSI → TCP/IP）</h2>
        <pre aria-label="OSIの7層">
┌────────────────────────────┐
│        OSI基本参照モデル        │
├────────────────────────────┤
│ 7. アプリケーション層           │
│ 6. プレゼンテーション層         │
│ 5. セッション層                 │
│ 4. トランスポート層             │
│ 3. ネットワーク層               │
│ 2. データリンク層               │
│ 1. 物理層                       │
└────────────────────────────┘
        </pre>
      </div>
      <div class="card">
        <h3 style="margin-top:0">TCP/IPモデル（実運用）</h3>
        <pre aria-label="TCP/IPの4層">
┌────────────────────────────┐
│          TCP/IPモデル           │
├────────────────────────────┤
│ 4. アプリケーション層           │ ← OSIの7〜5層に相当
│ 3. トランスポート層             │ ← OSIの4層
│ 2. インターネット層             │ ← OSIの3層
│ 1. ネットワークインターフェース層 │ ← OSIの2〜1層
└────────────────────────────┘
        </pre>
      </div>
    </section>

    <section id="mapping" class="card">
      <h2>3. 対応関係（どの層がどれに相当？）</h2>
      <pre aria-label="対応の図">
┌──────────────────────────────┐
│ OSI基本参照モデル              │     TCP/IPモデル
├──────────────────────────────┤
│ 7. アプリケーション層           │ ←┐
│ 6. プレゼンテーション層         │   ├─▶ アプリケーション層
│ 5. セッション層                 │ ←┘
│ 4. トランスポート層             │ ─▶ トランスポート層
│ 3. ネットワーク層               │ ─▶ インターネット層
│ 2. データリンク層               │ ←┐
│ 1. 物理層                       │ ←┘ ─▶ ネットワークインターフェース層
└──────────────────────────────┘
      </pre>
    </section>

    <section id="protocols" class="card">
      <h2>4. 各層の代表的プロトコル（TCP/IPモデル基準）</h2>
      <table role="table" aria-label="TCP/IPモデルと主なプロトコル対応表">
        <thead>
          <tr>
            <th>TCP/IP層</th>
            <th>対応するOSI層</th>
            <th>主な役割</th>
            <th>代表的プロトコル・例</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>アプリケーション層</strong></td>
            <td>OSIの7〜5層</td>
            <td>アプリ同士のやり取り</td>
            <td>HTTP/HTTPS（Web）、FTP（ファイル転送）、SMTP（送信）／POP3・IMAP（受信）、DNS（名前解決）、SSH、TLS など</td>
          </tr>
          <tr>
            <td><strong>トランスポート層</strong></td>
            <td>OSIの4層</td>
            <td>信頼性・順序制御・多重化</td>
            <td>TCP（信頼性あり）、UDP（軽量・高速、信頼性なし）</td>
          </tr>
          <tr>
            <td><strong>インターネット層</strong></td>
            <td>OSIの3層</td>
            <td>ルーティング・到達性</td>
            <td>IP（IPv4/IPv6）、ICMP（通知/診断）、ARP（アドレス解決）</td>
          </tr>
          <tr>
            <td><strong>ネットワークインターフェース層</strong></td>
            <td>OSIの2〜1層</td>
            <td>物理/リンク伝送</td>
            <td>Ethernet、Wi-Fi、PPP、MACアドレス、フレーム、ビット/電気信号</td>
          </tr>
        </tbody>
      </table>
      <p class="note">※ 試験では「DNSはアプリ層」「ARPはインターネット層寄り（L3補助）」などの位置づけを問われがちです。</p>
    </section>

    <section id="encap" class="card">
      <h2>5. 通信の流れ（カプセル化のイメージ）</h2>
      <pre aria-label="カプセル化の概念図">
送信側（アプリ → 下位層へ）                           受信側（上位層へ）
──────────────────▶ ネットワーク ──────────────────▶
[アプリデータ]
   ↓ ヘッダ付与（アプリ層/TLS等）
[App H][データ]
   ↓ セグメント化（トランスポート層: TCP/UDP）
[TCP/UDP H][App H][データ]
   ↓ ルーティング情報付与（インターネット層: IP）
[IP H][TCP/UDP H][App H][データ]
   ↓ フレーム化（ネットワークIF層: Ethernet/Wi-Fi）
[MAC H][IP H][TCP/UDP H][App H][データ][FCS]
      </pre>
      <p class="note">受信側ではこの順で<strong>ヘッダをはがす</strong>（逆カプセル化）ことで元のデータに戻します。</p>
    </section>

    <section id="summary" class="card">
      <h2>6. まとめ（試験・実務の要点）</h2>
      <ul>
        <li><strong>OSIは学習用の7層、TCP/IPは実運用の4層</strong>（対応関係を覚える）</li>
        <li>障害対応は<strong>層で切り分け</strong>：配線（1–2層）、IP設定/経路（3層）、TCP/UDP（4層）、アプリ設定（上位層）</li>
        <li>代表プロトコルの所在：<span class="ok">HTTPはアプリ層 / TCPはトランスポート / IPはインターネット / EthernetはネットワークIF</span></li>
      </ul>
      <p class="footer print-only">印刷用：A4縦に最適化。背景はプリンタ設定で無効化推奨。</p>
    </section>
  </main>
</body>
</html>
